{% extends 'base.html' %}

{% block title %}
    Home
{% endblock title %}

{% block body %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

<div id="page">
    <div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
      <header class="masthead mb-auto">
        <div class="inner">
          <h3 class="masthead-brand">Reveal #1</h3>
          <nav class="nav nav-masthead justify-content-center">
            <a class="nav-link active" href="#">Home</a>
            <a class="nav-link" href="https://codepen.io/soju22/" target="_blank">Codepen Profile</a>
            <a class="nav-link" href="https://codepen.io/collection/AGZywR" target="_blank">ThreeJS Collection</a>
          </nav>
        </div>
      </header>
  
      <main role="main" class="inner cover">
        <h1 class="cover-heading">Simple 3D Reveal Effect</h1>
        <p class="lead">This simple effect is made with ThreeJS and TweenMax.</p>
      </main>
  
      <footer class="mastfoot mt-auto">
        <div class="inner">
          <p></p>
        </div>
      </footer>
    </div>
  </div>
  
  <canvas id="reveal-effect"></canvas>
  
<style>
    a,
    a:focus,
    a:hover {
      color: #fff;
    }
    
    .btn-secondary,
    .btn-secondary:hover,
    .btn-secondary:focus {
      color: #333;
      text-shadow: none;
      background-color: #fff;
      border: .05rem solid #fff;
    }
    
    html,
    body {
      height: 100%;
      margin: 0;
    }
    
    body {
      display: flex;
      justify-content: center;
      color: #fff;
      text-shadow: 0 .05rem .1rem rgba(0, 0, 0, .5);
    }
    
    .cover-container {
      max-width: 42em;
    }
    
    .masthead {
      margin-bottom: 2rem;
    }
    
    .masthead-brand {
      margin-bottom: 0;
    }
    
    .nav-masthead .nav-link {
      padding: .25rem 0;
      font-weight: 700;
      color: rgba(255, 255, 255, .5);
      background-color: transparent;
      border-bottom: .25rem solid transparent;
    }
    
    .nav-masthead .nav-link:hover,
    .nav-masthead .nav-link:focus {
      border-bottom-color: rgba(255, 255, 255, .25);
    }
    
    .nav-masthead .nav-link+.nav-link {
      margin-left: 1rem;
    }
    
    .nav-masthead .active {
      color: #fff;
      border-bottom-color: #fff;
    }
    
    @media (min-width: 48em) {
      .masthead-brand {
        float: left;
      }
    
      .nav-masthead {
        float: right;
      }
    }
    
    .cover {
      padding: 0 1.5rem;
    }
    
    .cover .btn-lg {
      padding: .75rem 1.25rem;
      font-weight: 700;
    }
    
    .mastfoot {
      color: rgba(255, 255, 255, .5);
    }
    
    #page {
      visibility: hidden;
    }
    
    #reveal-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: all 5s;
    }
    
    html {
      background: #000; /* Background color set to black */
    }
    
    html.loaded {
      background-color: #333333;
      box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);
    }
    
    html.loaded #page {
      visibility: visible;
    }
    
    html.loaded #reveal-effect {
      opacity: 1;
    }
    
    html.revealed #reveal-effect {
      display: none;
    }
    
</style>
<script>
    let renderer, scene, camera, cameraCtrl;
let width, height, cx, cy, wWidth, wHeight;
const TMath = THREE.Math;

let conf = {
  color: 0xffffff,
  objectWidth: 12,
  objectThickness: 3,
  ambientColor: 0x808080,
  light1Color: 0xffffff,
  shadow: false,
  perspective: 75,
  cameraZ: 75,
};

let objects = [];
let geometry, material;
let hMap, hMap0, nx, ny;

init();

function init() {
  renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('reveal-effect'), antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  camera = new THREE.PerspectiveCamera(conf.perspective, window.innerWidth / window.innerHeight, 0.1, 1000);
  camera.position.z = conf.cameraZ;

  scene = new THREE.Scene();
  geometry = new THREE.BoxGeometry(conf.objectWidth, conf.objectWidth, conf.objectThickness);

  window.addEventListener('load', initScene);

  animate();
};

function initScene() {
  onResize();
  scene = new THREE.Scene();
  initLights();
  initObjects();
}

function initLights() {
  scene.add(new THREE.AmbientLight(conf.ambientColor));
  let light = new THREE.PointLight(0xffffff);
  light.position.z = 100;
  scene.add(light);
}

function initObjects() {
  objects = [];
  nx = Math.round(wWidth / conf.objectWidth) + 1;
  ny = Math.round(wHeight / conf.objectWidth) + 1;
  let mesh, x, y;
  for (let i = 0; i < nx; i++) {
    for (let j = 0; j < ny; j++) {
      material = new THREE.MeshLambertMaterial({ color: conf.color, transparent: true, opacity: 1 });
      mesh = new THREE.Mesh(geometry, material);
      x = -wWidth / 2 + i * conf.objectWidth;
      y = -wHeight / 2 + j * conf.objectWidth;
      mesh.position.set(x, y, 0);
      objects.push(mesh);
      scene.add(mesh);
    }
  }
  document.body.classList.add('loaded');
  startAnim();
}

function startAnim() {
  document.body.classList.remove('revealed');
  objects.forEach(mesh => {
    mesh.rotation.set(0, 0, 0);
    mesh.material.opacity = 1;
    mesh.position.z = 0;
    let delay = TMath.randFloat(1, 2);
    let rx = TMath.randFloatSpread(2 * Math.PI);
    let ry = TMath.randFloatSpread(2 * Math.PI);
    let rz = TMath.randFloatSpread(2 * Math.PI);
    TweenMax.to(mesh.rotation, 2, { x: rx, y: ry, z: rz, delay: delay });
    TweenMax.to(mesh.position, 2, { z: 80, delay: delay + 0.5, ease: Power1.easeOut });
    TweenMax.to(mesh.material, 2, { opacity: 0, delay: delay + 0.5 });
  });
  setTimeout(() => {
    document.body.classList.add('revealed');
  }, 4500);
}

function animate() {
  requestAnimationFrame(animate);
  renderer.render(scene, camera);
};

function onResize() {
  width = window.innerWidth; cx = width / 2;
  height = window.innerHeight; cy = height / 2;
  camera.aspect = width / height;
  camera.updateProjectionMatrix();
  renderer.setSize(width, height);

  size = getRendererSize();
  wWidth = size[0];
  wHeight = size[1];
}

function getRendererSize() {
  const cam = new THREE.PerspectiveCamera(conf.perspective, camera.aspect);
  const vFOV = cam.fov * Math.PI / 180;
  const height = 2 * Math.tan(vFOV / 2) * Math.abs(conf.cameraZ);
  const width = height * cam.aspect;
  return [width, height];
}
</script>  






<div class="container-fluid vh-100 no-margin d-flex align-items-center"> <!-- Increased height to vh-100 -->
    <div class="row w-100">
        <div class="col-lg-6 d-flex flex-column justify-content-center my-3 text-start" style="padding-left: 0;"> <!-- Added padding-left: 0 for extreme left -->
            <h1 class="mb-0 display-3">Welcome to FurniCure</h1> <!-- Increased font size -->
            <p class="typing-animation fs-2"> <!-- Increased font size -->
                Buy <span id="typing"></span>
            </p>
            <p class="about-info mt-4 fs-5"> <!-- Increased font size -->
                Building a strong network between <strong>shops</strong> and <strong>customers</strong>. A place where both meet their <strong>needs</strong>.
            </p>
        </div>
        <div class="col-lg-6 d-flex justify-content-center align-items-center">
            <div id="carouselImages" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000"> <!-- Set the slide interval to 2000ms -->
                <div class="carousel-inner mt-5"> <!-- Increased margin-top for spacing -->
                    <div class="carousel-item active">
                        <img src="/static/furniimage04.jpeg" alt="Image 1" class="rectangular-img">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/furniimage05.jpeg" alt="Image 2" class="rectangular-img">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/furniimage06.jpeg" alt="Image 3" class="rectangular-img">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/furniimage07.jpeg" alt="Image 4" class="rectangular-img">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .no-margin {
        margin: 0 !important; /* Remove all margins */
    }

    body {
        background-color: #f7f9fc; /* Light background color */
        color: #333; /* Darker text color for contrast */
        font-family: 'Montserrat', sans-serif;
        font-weight: 400;
        overflow-x: hidden; /* Prevent horizontal scrolling */
    }

    .rectangular-img {
        width: 100%; /* Make image responsive */
        height: 500px; /* Increased height for better visibility */
        object-fit: cover; /* Ensure the image covers the area */
        border: 5px solid #17a2b8; /* Accent border color */
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Added box-shadow for depth */
    }

    .rectangular-img:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); /* Shadow effect on hover */
    }

    .typing-animation {
        font-size: 2.5rem; /* Increased font size */
        font-weight: 600;
        letter-spacing: 1.5px;
        color: #17a2b8; /* Accent color for typing animation */
    }

    #typing {
        font-weight: 600;
        color: #6c757d; /* Neutral color for typing cursor */
        border-right: 2px solid #17a2b8; /* Cursor color */
        padding-right: 5px;
        animation: blink 0.75s step-end infinite;
    }

    @keyframes blink {
        50% {
            border-color: transparent;
        }
    }

    .about-info {
        font-size: 1.5rem; /* Increased font size */
        font-weight: 400;
        color: #555; /* Softer text color */
        line-height: 1.6;
        text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        transition: color 0.3s ease;
    }

    .about-info strong {
        color: #17a2b8; /* Accent color for strong text */
        font-weight: 600;
    }

    .about-info:hover {
        color: #d4af37; /* Change color on hover */
        transition: color 0.3s ease;
    }

    .typing-animation:hover {
        color: #d4af37; /* Change color on hover */
        transition: color 0.3s ease;
    }

    .categories, .products {
        background-color: white; /* White background for cards */
        padding: 20px; /* Spacing around sections */
        border-radius: 8px; /* Rounded corners */
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* Shadow for depth */
        margin-top: 40px; /* Space above sections */
    }

    h2 {
        color: #17a2b8; /* Accent color for section headings */
        text-align: center;
        margin-bottom: 20px;
    }

    .card {
        border: none; /* Remove default card border */
        border-radius: 8px; /* Rounded corners for cards */
        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Card transition effects */
    }

    .card:hover {
        transform: translateY(-5px); /* Lift effect on hover */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); /* Shadow effect on hover */
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const words = ["Sofa", "Chair", "Mandir", "Bed", "Cupboard", "Table"];
    let i = 0;
    let j = 0;
    let currentWord = "";
    let isDeleting = false;

    function type() {
        const typingElement = document.getElementById("typing");

        if (!isDeleting) {
            if (j < words[i].length) {
                currentWord = words[i].substring(0, j + 1);
                typingElement.innerHTML = currentWord;
                j++;
                setTimeout(type, 100);
            } else {
                isDeleting = true;
                setTimeout(type, 1000);
            }
        } else {
            if (j > 0) {
                currentWord = words[i].substring(0, j - 1);
                typingElement.innerHTML = currentWord;
                j--;
                setTimeout(type, 50);
            } else {
                isDeleting = false;
                i++;
                if (i === words.length) i = 0;
                setTimeout(type, 500);
            }
        }
    }

    document.addEventListener("DOMContentLoaded", () => type());
</script>

{% comment %} <div class="categories mb-4">
    <h2>Categories</h2>
    <div class="row">
        {% for category in categories %}
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">{{ category.name }}</h5>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div> {% endcomment %}
{% comment %} <div class="categories mb-4">
    <h2>Categories</h2>
    <div class="row">
        <div class="col-md-3 text-center">
            <a href="{% url 'sofa' %}" class="category-icon">
                <i class="fas fa-couch fa-5x" aria-hidden="true"></i>
                <div class="mt-2">Sofa</div>
            </a>
        </div>
        <div class="col-md-3 text-center">
            <a href="{% url 'bed' %}" class="category-icon">
                <i class="fas fa-bed fa-5x" aria-hidden="true"></i>
                <div class="mt-2">Bed</div>
            </a>
        </div>
        <div class="col-md-3 text-center">
            <a href="{% url 'table' %}" class="category-icon">
                <i class="fas fa-table fa-5x" aria-hidden="true"></i>
                <div class="mt-2">Table</div>
            </a>
        </div>
        <div class="col-md-3 text-center">
            <a href="{% url 'chair' %}" class="category-icon">
                <i class="fas fa-chair fa-5x" aria-hidden="true"></i>
                <div class="mt-2">Chair</div>
            </a>
        </div>
        <div class="col-md-3 text-center">
            <a href="{% url 'cupboard' %}" class="category-icon">
                <i class="fas fa-archive fa-5x" aria-hidden="true"></i>
                <div class="mt-2">Cupboard</div>
            </a>
        </div>
    </div>
</div>

<style>
    .category-icon {
        text-decoration: none; /* Remove underline */
        color: #17a2b8; /* Accent color for icons */
        transition: transform 0.3s ease, color 0.3s ease; /* Animation effects */
    }

    .category-icon:hover {
        transform: scale(1.1); /* Slightly enlarge on hover */
        color: #d4af37; /* Change color on hover */
    }
</style> {% endcomment %}
  <!-- Include Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMQQnKzJ+n9Ka2svQF0eF+0nCdD64+gkpTP0Ue" crossorigin="anonymous">
  <div class="categories mb-4">
    <h2>Categories</h2>
    <div class="d-flex justify-content-between">
        <div class="category-icon">
            <a href="{% url 'sofa' %}">
                <div class="image-container">
                    <img src="/static/furniimage08.jpeg" alt="Sofa" class="category-image"> <!-- Insert sofa image -->
                </div>
            </a>
        </div>
        <div class="category-icon">
            <a href="{% url 'bed' %}">
                <div class="image-container">
                    <img src="/static/furniimage10.jpeg" alt="Bed" class="category-image"> <!-- Insert bed image -->
                </div>
            </a>
        </div>
        <div class="category-icon">
            <a href="{% url 'table' %}">
                <div class="image-container">
                    <img src="/static/furniimage09.jpeg" alt="Table" class="category-image"> <!-- Insert table image -->
                </div>
            </a>
        </div>
        <div class="category-icon">
            <a href="{% url 'chair' %}">
                <div class="image-container">
                    <img src="/static/furniimage12.jpeg" alt="Chair" class="category-image"> <!-- Insert chair image -->
                </div>
            </a>
        </div>
        <div class="category-icon">
            <a href="{% url 'cupboard' %}">
                <div class="image-container">
                    <img src="/static/furniimage11.jpeg" alt="Cupboard" class="category-image"> <!-- Insert cupboard image -->
                </div>
            </a>
        </div>
    </div>
</div>

<style>
    .category-icon {
        flex: 1; /* Allow each category icon to take equal space */
        margin: 0 10px; /* Add margin for spacing */
        text-align: center; /* Center the content */
        max-width: 150px; /* Optional: Set max width to control size */
    }

    .image-container {
        width: 100%; /* Full width of the container */
        padding-top: 100%; /* Creates a square aspect ratio */
        position: relative; /* Position relative for absolute child */
        overflow: hidden; /* Hide overflow */
        border: 1px solid #ddd; /* Optional: add a border */
        border-radius: 8px; /* Optional: rounded corners */
    }

    .category-image {
        position: absolute; /* Position absolute to fill container */
        top: 0; /* Align to top */
        left: 0; /* Align to left */
        width: 100%; /* Fill width */
        height: 100%; /* Fill height */
        object-fit: cover; /* Cover the container while preserving aspect ratio */
    }
</style>

<style>
    .products .card {
        height: 100%; /* Ensures cards stretch to the same height */
        display: flex;
        flex-direction: column;
    }
    
    .products .card-img-top {
        height: 200px; /* Set a fixed height for images */
        object-fit: cover; /* Ensures the image fits without distortion */
    }
    
    .products .card-body {
        flex: 1; /* Allows the card body to expand */
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* Align content properly */
    }
    
    .products .card-title,
    .products .card-text {
        margin-bottom: 1rem; /* Space between elements */
    }
    
    .products .btn {
        align-self: center; /* Center the button */
    }
</style>    

<div class="products mb-4">
    <h2>Random Product Suggestions</h2>
    <div class="row">
        {% if products %}
            {% for product in products %}
                <div class="col-md-4 mb-3">
                    <div class="card">
                        <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <p class="card-text">{{ product.description|truncatewords:15 }}</p>
                            <p class="card-text"><strong>Price: {{ product.price }}</strong></p>
                            <a href="{% url 'product_detail' product.id %}" class="btn btn-dark">View Product</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No products available at the moment.</p>
        {% endif %}
    </div>
</div>

{% endblock body %}
